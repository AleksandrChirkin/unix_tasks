# Задачи по операционным системам UNIX

### Задача 1
Создание sparse (разреженного) файла.

При запуске *runme.sh* запускается следующая последовательность действий:
1. Сначала создается тестовый файл A размером 4\*1024\*1024 + 1 байт, в котором по смещениям- 0, 10000 и в конце файла 
записаны единицы, а в остальных местах - нули
2. При помощи скрипта *sparse_file_creator* из файла A создается sparse файл B, в котором последовательности нулевых байтов заменяются 
"дырками" посредством вызова системной функции lseek. Чтение и запись происходят поблочно, размер блока по умолчанию - 4096 байт
3. Файлы A и B сжимаются утилитой gzip в A.gz, B.gz
4. Файл B.gz распаковывается утилитой gzip в *stdout*, откуда через pipe передаются в *stdin* скрипта *sparse_file_creator*. Результат записывается в файл C
5. Файл A "прорежается" посредством скрипта *sparse_file_creator* с размером блока 100. Результат записывается в файл D
6. Командой *stat* выводятся размеры файлов A, A.gz, B, B.gz, C, D и количества занимаемых ими блоков

Скрипт *./sparse_file_creator* может быть вызван и вручную.
Для корректной работы скрипта создания sparse файла нужно вводить (позиционные) аргументы в одном из следующих видов:
1. *./sparse_file out_name* 
   1. *out_name* - имя файла вывода
   2. ввод - из *stdin*
   3. размер блока = 4096 байт
2. *./sparse_file in_name out_name*
   1. *in_name* - имя файла ввода
   2. *out_name* - имя файла вывода
   3. размер блока = 4096 байт
3. *./sparse_file out_name buf_size*
    1. *out_name* - имя файла вывода
    2. *buf_size* - размер блока
    3. ввод - из *stdin*
4. *./sparse_file in_name out_name buf_size*
    1. *in_name* - имя файла ввода
    2. *out_name* - имя файла вывода
    3. *buf_size* - размер блока 